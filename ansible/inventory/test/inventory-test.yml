---
all:
  hosts:
    # control1:
    #   ansible_host: itswbhst0016.xaas.epfl.ch
    #   ansible_ip: 128.178.218.234
    #   ansible_user: administrator
    # control2:
    #   ansible_host: itswbhst0019.xaas.epfl.ch
    #   ansible_ip: 128.178.218.253
    #   ansible_user: administrator
    # worker1:
    #   ansible_host: itswbhst0018.xaas.epfl.ch
    #   ansible_ip: 128.178.218.233
    #   ansible_user: administrator
    # worker2:
    #   ansible_host: itswbhst0020.xaas.epfl.ch
    #   ansible_ip: 128.178.218.249
    #   ansible_user: administrator
    # witness1:
    #   ansible_host: itswbhst0017.xaas.epfl.ch
    #   ansible_ip: 128.178.218.240
    #   ansible_user: administrator
  vars:
    ansible_user: root
    wpn_namespace: wordpress-test
    RUNENV: test
    RKE_INSTALL_SERVER: rancher-fsd.epfl.ch
    SSH_KEYS:
      -
        github: azecko
        state: present
      -
        github: d4rkheart
        state: present
      -
        github: domq
        state: present
      -
        github: dragonleman
        state: present
      -
        github: dwesh163
        state: present
      -
        github: Jch4ipas
        state: present
      -
        github: jdelasoie
        state: present
      -
        github: lvenries
        state: present
      -
        github: multiscan
        state: present
      -
        github: obieler
        state: present
      -
        github: ponsfrilus
        state: present
      -
        github: rosamaggi
        state: present
      -
        github: saskyapanchaud
        state: present
      -
        github: williambelle
        state: present
      - github: laurent-indermuehle
        state: present
      - # example of revoked key
        github: crazylady2004
        state: absent
    USERS:
      - username: []

#      -
#        username: administrator
#        comment: default non root user
#        uid: 1000
        # linger: true

nodes:
  vars:
    ansible_rancher_url: https://rancher-fsd.epfl.ch
    ansible_user: root
    ansible_rancher_credentials_file: "kubeconfig-wordpress.yml"
    ansible_rancher_cluster_name: wordpress-test
  children:
    controls:
      hosts:
        itswbhst0016:
          ansible_host: itswbhst0016.xaas.epfl.ch
          ansible_ip: 128.178.218.234
        itswbhst0019:
          ansible_host: itswbhst0019.xaas.epfl.ch
          ansible_ip: 128.178.218.253
        itswbhst0017:
          ansible_host: itswbhst0017.xaas.epfl.ch
          ansible_ip: 128.178.218.240
      vars:
        RKE_ROLE: control

    workers:
      hosts:
        itswbhst0018:
          ansible_host: itswbhst0018.xaas.epfl.ch
          ansible_ip: 128.178.218.233
        itswbhst0020:
          ansible_host: itswbhst0020.xaas.epfl.ch
          ansible_ip: 128.178.218.249
#        itswbhst0021:
#          ansible_host: itswbhst0021.xaas.epfl.ch
#          ansible_ip: 128.178.218.17
#        itswbhst0022:
#          ansible_host: itswbhst0022.xaas.epfl.ch
#          ansible_ip: 128.178.218.28
      vars:
        RKE_ROLE: worker

clusters:
  "hosts":
    wordpress-test:
      ansible_rancher_url: https://rancher-fsd.epfl.ch
      ansible_connection: local
      ansible_python_interpreter: "{{ ansible_playbook_python }}"
      ansible_user: root
      ansible_rancher_credentials_file: "kubeconfig-wordpress.yml"
      ansible_rancher_cluster_name: wordpress-test

