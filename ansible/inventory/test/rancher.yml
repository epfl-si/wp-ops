---
rke2_nodes:
  vars:
    ansible_rancher_url: https://rancher-fsd.epfl.ch
    ansible_user: root
    ansible_rancher_credentials_file: "kubeconfig-wordpress.yml"
    ansible_rancher_cluster_name: wordpress-test
  children:
    rke2_control_nodes:
      hosts:
        itswbhst0016:
          ansible_host: itswbhst0016.xaas.epfl.ch
          ansible_ip: 128.178.218.234
        itswbhst0019:
          ansible_host: itswbhst0019.xaas.epfl.ch
          ansible_ip: 128.178.218.253
        itswbhst0017:
          ansible_host: itswbhst0017.xaas.epfl.ch
          ansible_ip: 128.178.218.240

    rke2_workers:
      hosts:
        itswbhst0018:
          ansible_host: itswbhst0018.xaas.epfl.ch
          ansible_ip: 128.178.218.233
        itswbhst0020:
          ansible_host: itswbhst0020.xaas.epfl.ch
          ansible_ip: 128.178.218.249

rke2_clusters:
  vars:
    # Unless stipulated otherwise in a task, wrangling a Rancher
    # cluster happens from the operator's workstation...
    ansible_connection: local
    ansible_python_interpreter: "{{ ansible_playbook_python }}"
    # ... Although occasionally (e.g. to obtain tokens)
    # `epfl_si.rancher` tasks need ssh access.
    ansible_user: root
  "hosts":   # Not real hosts, hence the scarequotes
    cluster|rancher-wordpress-test:
      ansible_rancher_url: https://rancher-fsd.epfl.ch
      ansible_rancher_cluster_name: wordpress-test
