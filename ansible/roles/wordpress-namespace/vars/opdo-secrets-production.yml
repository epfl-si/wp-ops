# To edit the encrypted secrets below, you need eyaml installed.
# Familiarize yourself with
# https://puppet.com/blog/encrypt-your-data-using-hiera-eyaml first.
# The edit command goes like this,
#
#   ansible/ansible-deps-cache/bin/eyaml edit -d \
#     --pkcs7-public-key ansible/eyaml/epfl_wp_prod.pem \
#     ansible/roles/wordpress-namespace/vars/serving-secrets-production.yml
#
# ðŸ’¡ This *will not* decrypt anything for you because chances are, you
# don't need to decrypt secrets (YA RLY). For those cases where you
# do, wielding the private key from Keybase is left as an exercise to
# the reader.

eyaml_keys:
  priv: "/keybase/team/epfl_wp_prod/eyaml-privkey.pem"
  pub: "{{ playbook_dir }}/eyaml/epfl_wp_prod.pem"

opdo:
  url: https://itsaudit0016.xaas.epfl.ch:9200/opdo/_doc
  api_key_encoded: ENC[PKCS7,MIIBqQYJKoZIhvcNAQcDoIIBmjCCAZYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAPpS0jp/HQUtnX/thHRzCzKn1M2tDfJbJNkgGNTzgEf2vluU9Ahe2hmfH7u3ncRu/gcQfyARJj7mLJW+ZEiFqY+0RlaOxJJSwxS+dRWMcOO0Y/Qkii/2PJeiiYn+eKzFVwvLCWW8B4Ec6A1LSQKtJ+zIQC1BlDabkBHfE0oYEOTehYCg+E8QwX7MIpP1mH9pGuOH5NYVcf6nn1ZXhpwdImEjn51o43DrTwiIAy/5OJDnJiB9eMEkTdgvRNa2pQVfsl4PJRE/H8GW2Agz9yO1Na15mS5V00Wf0VsAuG+HOO4fvPnPODJaJLe+//6Bw0TTxcKB4oE33j+b686F47G2GIDBsBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBCTGzITAf02XVZDXgEFDCXtgECzgHpmgWiWQOZvydiPk7NAfdoZlHmqH+P/o3jsUw9aPApUZD+RVf4+DfEjnL42GbnS+HaoOE6NZ32XEqklASF4]

certificate: "{{ lookup('pipe', 'keybase fs read /keybase/team/epfl_wp_prod/OPDo_production/OPDo_ca_production.crt') }}"

